# =============================================================================
# UNIFIED ENVIRONMENT CONFIGURATION - DHAFNCK MCP PROJECT (EXAMPLE)
# =============================================================================
# This is the TEMPLATE for the .env file - copy to .env and fill in your values
# IMPORTANT: Never commit .env file with real credentials to version control
# =============================================================================

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================
ENV=dev
NODE_ENV=development
APP_ENV=development
ENVIRONMENT=development
APP_DEBUG=true
APP_LOG_LEVEL=debug
DHAFNCK_MVP_MODE=true
DHAFNCK_AUTH_ENABLED=false

# =============================================================================
# POSTGRESQL DATABASE (Primary Database)
# =============================================================================
DATABASE_TYPE=postgresql
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=dhafnck_mcp
DATABASE_USER=dhafnck_user
DATABASE_PASSWORD=your_secure_password_here
DATABASE_SSL_MODE=disable

# PostgreSQL Docker variables (same values)
POSTGRES_DB=${DATABASE_NAME}
POSTGRES_USER=${DATABASE_USER}
POSTGRES_PASSWORD=${DATABASE_PASSWORD}
POSTGRES_HOST=${DATABASE_HOST}
POSTGRES_PORT=${DATABASE_PORT}

# Full database URL (auto-constructed)
DATABASE_URL=postgresql://${DATABASE_USER}:${DATABASE_PASSWORD}@${DATABASE_HOST}:${DATABASE_PORT}/${DATABASE_NAME}

# =============================================================================
# REDIS CACHE
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here
REDIS_DB=0
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# Redis Session Configuration
SESSION_TTL=3600
MAX_EVENTS_PER_SESSION=1000
SESSION_COMPRESSION=true
SESSION_KEY_PREFIX=mcp:session:
REDIS_SOCKET_TIMEOUT=5
REDIS_CONNECT_TIMEOUT=5
REDIS_HEALTH_CHECK_INTERVAL=30
SESSION_PERSISTENCE_ENABLED=true
FALLBACK_TO_MEMORY=true
SESSION_DEBUG_LOGGING=false

# =============================================================================
# APPLICATION URLS & PORTS
# =============================================================================
BACKEND_URL=http://localhost:8000
FRONTEND_URL=http://localhost:3000
BACKEND_PORT=8000
FRONTEND_PORT=3000

# =============================================================================
# FASTMCP SERVER CONFIGURATION
# =============================================================================
FASTMCP_TRANSPORT=streamable-http
FASTMCP_HOST=0.0.0.0
FASTMCP_PORT=8000

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================
JWT_SECRET_KEY=generate_a_random_32_char_string_here
JWT_SECRET=generate_another_random_32_char_string_here
DHAFNCK_TOKEN=generate_your_dhafnck_token_here
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=1440
TOKEN_EXPIRY_HOURS=24
MAX_TOKENS_PER_USER=10

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ORIGINS=http://localhost:3000,http://localhost:8000,http://localhost:5173

# =============================================================================
# AI/LLM API KEYS (Get from respective providers)
# =============================================================================
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_ORG_ID=org-your-org-id-here
OPENAI_MODEL=gpt-4-turbo-preview

ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here
ANTHROPIC_MODEL=claude-3-opus-20240229

GOOGLE_API_KEY=your-google-api-key-here
GOOGLE_MODEL=gemini-pro

PERPLEXITY_API_KEY=pplx-your-perplexity-key-here

# =============================================================================
# GITHUB CONFIGURATION
# =============================================================================
GITHUB_PERSONAL_ACCESS_TOKEN=ghp_your_github_personal_access_token_here

# =============================================================================
# SUPABASE CONFIGURATION (For Cloud Deployment)
# =============================================================================
# Set DATABASE_TYPE=supabase to use these settings
SUPABASE_PROJECT_REF=your_project_ref_here
SUPABASE_REGION=us-east-1
SUPABASE_URL=https://${SUPABASE_PROJECT_REF}.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here
SUPABASE_JWT_SECRET=your_supabase_jwt_secret_here
SUPABASE_DB_HOST=db.${SUPABASE_PROJECT_REF}.supabase.co
SUPABASE_DB_PORT=5432
SUPABASE_DB_NAME=postgres
SUPABASE_DB_USER=postgres
SUPABASE_DB_PASSWORD=your_supabase_db_password_here
SUPABASE_DATABASE_URL=postgresql://${SUPABASE_DB_USER}:${SUPABASE_DB_PASSWORD}@${SUPABASE_DB_HOST}:${SUPABASE_DB_PORT}/${SUPABASE_DB_NAME}
SUPABASE_POOLER_HOST=aws-0-${SUPABASE_REGION}.pooler.supabase.com
SUPABASE_SSL_CERT_PATH=/path/to/prod-ca-2021.crt

# =============================================================================
# APPLICATION PATHS
# =============================================================================
DHAFNCK_DATA_PATH=/data
MCP_DB_PATH=/data/dhafnck_mcp.db
TASKS_JSON_PATH=/data/tasks
PROJECTS_FILE_PATH=/data/projects/projects.json
CURSOR_RULES_DIR=/data/rules
AGENT_LIBRARY_DIR_PATH=/app/agent-library
PYTHONPATH=/app/src

# =============================================================================
# TEST DATABASE CONFIGURATION
# =============================================================================
TEST_DATABASE_NAME=dhafnck_mcp_test
TEST_DATABASE_URL=postgresql://${DATABASE_USER}:${DATABASE_PASSWORD}@${DATABASE_HOST}:${DATABASE_PORT}/${TEST_DATABASE_NAME}
PYTEST_CURRENT_TEST=false
TEST_PARALLEL_WORKERS=4
TEST_COVERAGE_ENABLED=true

# =============================================================================
# DEVELOPMENT FEATURES
# =============================================================================
HOT_RELOAD=true
AUTO_MIGRATE=true
SEED_DATA=true
AUTO_RESTART=true
DEVELOPMENT_MODE=true
MOCK_EXTERNAL_APIS=false

# =============================================================================
# WORKER CONFIGURATION
# =============================================================================
WORKERS=1
WORKER_CONNECTIONS=100

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
ENABLE_METRICS=false
ENABLE_TRACING=false
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_TO_FILE=true
LOG_TO_CONSOLE=true
LOG_FILE_PATH=./logs/app.log
METRICS_ENABLED=true
METRICS_PORT=9090
PROMETHEUS_ENABLED=false

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_ENABLED=false
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=/backups

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================
CONTAINER_PORT=8000
CONTAINER_NAME=dhafnck-mcp-server
DATA_VOLUME_PATH=./data
LOGS_VOLUME_PATH=./logs
COMPOSE_PROJECT_NAME=dhafnck-mcp
DOCKER_NETWORK=dhafnck_network
DOCKER_DATA_VOLUME=dhafnck_data
DOCKER_LOGS_VOLUME=dhafnck_logs
DOCKER_POSTGRES_VOLUME=postgres_data
DOCKER_BUILDKIT=1

# Volume paths for hot reload
BACKEND_VOLUME=./dhafnck_mcp_main/src
FRONTEND_VOLUME=./dhafnck-frontend/src

# Docker Resource Limits
DOCKER_MEMORY_LIMIT=512M
DOCKER_CPU_LIMIT=0.5
DOCKER_MEMORY_RESERVATION=256M
DOCKER_CPU_RESERVATION=0.1

# =============================================================================
# HEALTH CHECK SETTINGS
# =============================================================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_BURST=10

# =============================================================================
# API CONFIGURATION
# =============================================================================
API_VERSION=v1
API_BASE_PATH=/api/v1

# =============================================================================
# FEATURE FLAGS
# =============================================================================
FEATURE_VISION_SYSTEM=true
FEATURE_HIERARCHICAL_CONTEXT=true
FEATURE_AUTO_COMPACT=true
FEATURE_MULTI_AGENT=true
FEATURE_DELEGATION_QUEUE=true
DATA_STORAGE_MODE=internal

# =============================================================================
# PRODUCTION OVERRIDES (Uncomment for production)
# =============================================================================
# ENV=production
# NODE_ENV=production
# APP_ENV=production
# ENVIRONMENT=production
# APP_DEBUG=false
# APP_LOG_LEVEL=info
# HOT_RELOAD=false
# AUTO_MIGRATE=false
# SEED_DATA=false
# ENABLE_METRICS=true
# ENABLE_TRACING=true
# BACKUP_ENABLED=true
# WORKERS=4
# WORKER_CONNECTIONS=1000
# DHAFNCK_AUTH_ENABLED=true
# DHAFNCK_MVP_MODE=false

# =============================================================================
# POSTGRES ROOT PASSWORD (for container initialization)
# =============================================================================
POSTGRES_ROOT_PASSWORD=postgres_root_password_here

# =============================================================================
# END OF CONFIGURATION
# =============================================================================