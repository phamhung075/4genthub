Debug info:
SCRIPT_DIR: /home/daihungpham/__projects__/4genthub/scripts
PROJECT_ROOT: /home/daihungpham/__projects__/4genthub
TEST_DIR: /home/daihungpham/__projects__/4genthub/agenthub_main/src/tests
Current PWD: /home/daihungpham/__projects__/4genthub

[H[2J[3J[0;36m╔════════════════════════════════════════════════════════════════╗[0m
[0;36m║[1;37m[1m        🧪 SMART TEST RUNNER - agenthub 🧪                   [0;36m║[0m
[0;36m╠════════════════════════════════════════════════════════════════╣[0m
[0;36m║[0m [1mTest Statistics:[0m
[0;36m║[0m   Total Tests: [1;37m372[0m
[0;36m║[0m   [0;32m✓ Passed (Cached):[0m [0;32m4[0m
[0;36m║[0m   [0;31m✗ Failed:[0m [0;31m0[0m
[0;36m║[0m   [1;33m⚡ Will Skip (Cached):[0m [1;33m4[0m
[0;36m╚════════════════════════════════════════════════════════════════╝[0m

[1;33m[1m═══ SMART TEST EXECUTION ═══[0m
[0;32m1[0m)  🚀 [1mRun Backend Tests[0m (Skip cached passed tests)
[0;32m2[0m)  🔴 [1mRun Failed Tests Only[0m
[0;32m3[0m)  🔄 [1mRun All Tests[0m (Ignore cache)
[0;32m4[0m)  📝 [1mRun Specific Test File[0m

[1;33m[1m═══ CACHE MANAGEMENT ═══[0m
[0;34m5[0m)  🗑️  [1mClear All Cache[0m (Force full rerun)
[0;34m6[0m)  🧹 [1mClear Failed Tests Cache[0m
[0;34m7[0m)  📊 [1mShow Cache Statistics[0m
[0;34m8[0m)  📋 [1mList Cached Tests[0m

[1;33m[1m═══ TEST CATEGORIES ═══[0m
[0;35m10[0m) Run Unit Tests
[0;35m11[0m) Run Integration Tests
[0;35m12[0m) Run E2E Tests
[0;35m13[0m) Run Performance Tests

[1;33m[1m═══ UTILITIES ═══[0m
[0;36m20[0m) 📈 Generate Coverage Report
[0;36m21[0m) 🔍 Find Obsolete Tests
[0;36m22[0m) 📜 View Last Run Log

[0;31mQ[0m)  Quit


[0;36m[1mStarting Smart Test Run...[0m

[1;33mMode: Smart (Skip cached passed tests)[0m
[0;34m→ Running (new):[0m agenthub_main/src/tests/utilities/test_coverage_analyzer.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/utilities/docker_test_utils.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/test_cascade_deletion_fix_verification.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/monitoring_validation_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/shared/test_shared_init.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/shared/infrastructure/test_infrastructure_init.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/shared/infrastructure/messaging/event_bus_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/shared/infrastructure/messaging/test_messaging_init.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/integration/test_service_account_auth.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/integration/test_selective_field_queries.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/integration/test_mcp_tools_comprehensive.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/integration/test_mcp_tools_inclusion.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/integration/test_assignees_fix.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/integration/agent_assignment_flow_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/integration/test_bulk_api.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/integration/test_id_validation_api_flows.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/integration/test_auth_websocket_integration.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/integration/test_subtask_api_integration.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/integration/test_direct_task_creation.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/integration/test_docker_config.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/integration/test_manual_task_creation.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/integration/task_management/test_subtask_user_id_fix.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/integration/task_management/test_critical_fixes_verification.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/integration/task_management/interface/git_branch_filtering_integration_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/integration/task_management/interface/git_branch_zero_tasks_deletion_integration_test.py
[0;32m⚡ Skipping (cached):[0m agenthub_main/src/tests/integration/test_websocket_v2.py
[0;32m⚡ Skipping (cached):[0m agenthub_main/src/tests/integration/test_mcp_authentication_fixes.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/integration/test_websocket_server.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/test_cascade_deletion_verification.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/e2e/test_subtask_dialog_flow.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/auth/keycloak_integration_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/auth/hook_auth_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/auth/dependencies_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/auth/middleware/request_context_middleware_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/auth/mcp_integration/test_supabase_connection_fix.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/auth/mcp_integration/test_database_connection_analysis.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/auth/models/api_token_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/auth/keycloak_dependencies_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/auth/service_account_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/auth/interface/auth_endpoints_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/auth/mcp_dependencies_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/conftest_simplified.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/performance/benchmarks/response_size_tests.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/performance/benchmarks/ai_comprehension_tests.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/performance/conftest.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/connection_management/test_secure_health_check.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/connection_management/interface/controllers/connection_mcp_controller_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/test_agent_role_display.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/test_unified_context_data.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/test_sqlite_mode.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/hooks/test_session_state_runner.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/hooks/test_session_state_integration.py
[0;32m⚡ Skipping (cached):[0m agenthub_main/src/tests/hooks/test_hook_integration.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/hooks/test_role_enforcer.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/hooks/test_context_utilities_simple.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/hooks/test_context_management_integration.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/hooks/test_context_injector.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/hooks/test_agent_state_manager.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/hooks/test_hook_integration_simple.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/hooks/test_hook_e2e.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/hooks/test_session_tracker.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/hooks/test_hooks_basic.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/hooks/test_state_persistence.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/hooks/test_context_synchronizer.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/ai_task_planning/test_ai_planning_init.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/ai_task_planning/application/services/ai_planning_service_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/ai_task_planning/application/test_application_init.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/ai_task_planning/domain/entities/planning_request_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/ai_task_planning/domain/entities/task_plan_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/ai_task_planning/domain/services/test_services_init.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/ai_task_planning/domain/services/requirement_analyzer_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/ai_task_planning/domain/test_domain_init.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/ai_task_planning/interface/controllers/ai_planning_mcp_controller_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/ai_task_planning/interface/test_interface_init.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/security/websocket/test_token_validation.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/security/websocket/test_jwt_websocket_auth.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/security/websocket/test_websocket_integration.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/security/websocket/test_penetration_scenarios.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/security/websocket/test_performance_security.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/security/websocket/run_security_tests.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/security/websocket/test_websocket_security.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/security/websocket/conftest.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/create_test_data.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/test_context_cascade_deletion_verification.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/test_logging_configuration.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/assignees_validation_fix_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/comprehensive_agent_management_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/factories/subtask_facade_factory_test.py
[0;32m⚡ Skipping (cached):[0m agenthub_main/src/tests/task_management/application/use_cases/context_search_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/use_cases/agent_mappings_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/use_cases/delete_task_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/use_cases/ai_task_creation_use_case_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/use_cases/context_versioning_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/use_cases/create_project_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/use_cases/batch_context_operations_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/use_cases/context_templates_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/services/metrics_dashboard_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/services/agent_coordination_service_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/services/performance_benchmarker_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/services/context_field_selector_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/services/context_template_manager_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/services/context_cache_optimizer_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/services/hint_optimizer_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/services/workflow_hints_simplifier_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/services/dependency_management_engine_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/services/ai_integration_service_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/services/response_optimizer_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/services/real_time_status_tracker_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/services/task_application_service_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/facades/unified_context_facade_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/facades/token_application_facade_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/facades/subtask_application_facade_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/application/exceptions_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/context_hierarchy_inheritance_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/domain/entities/agent_session_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/domain/models/unified_context_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/domain/services/intelligence/pattern_recognition_engine_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/domain/services/content_analyzer_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/domain/value_objects/coordination_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/interface/ddd_compliant_mcp_tools_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/interface/controllers/task_mcp_controller_comprehensive_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/interface/controllers/git_branch_mcp_controller_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/interface/controllers/desc/context/manage_unified_context_description_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/interface/controllers/task_mcp_controller_integration_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/interface/controllers/auth_helper_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/interface/controllers/subtask_mcp_controller_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/interface/mcp_controllers/agent_mcp_controller/test_agent_controller_init.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/interface/mcp_controllers/unified_context_controller/test_context_operation_handler.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/interface/mcp_controllers/subtask_mcp_controller/handlers/crud_handler_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/interface/mcp_controllers/subtask_mcp_controller/manage_subtask_description_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/interface/mcp_controllers/test_controllers_init.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/interface/mcp_controllers/task_mcp_controller/task_mcp_controller_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/interface/mcp_controllers/task_mcp_controller/manage_task_description_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/interface/api_controllers/agent_api_controller_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/test_role_based_agents.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/test_call_agent_conversion.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/infrastructure/repositories/global_context_repository_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/infrastructure/repositories/global_context_repository_user_scoped_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/infrastructure/repositories/token_repository_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/infrastructure/repositories/project_context_repository_user_scoped_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/infrastructure/repositories/orm/task_repository_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/infrastructure/repositories/orm/project_repository_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/infrastructure/repositories/orm/test_task_repository_simple.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/infrastructure/ai_services/ml_dependency_predictor_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/infrastructure/ai_services/test_ai_services_init.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/infrastructure/test_context_data_persistence_fix.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/infrastructure/database/supabase_config_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/infrastructure/database/database_config_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/infrastructure/database/models_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/infrastructure/websocket/context_notifications_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/infrastructure/websocket/test_websocket_init.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/infrastructure/websocket/agent_communication_hub_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/infrastructure/debug_context_data_persistence_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/infrastructure/workers/metrics_reporter_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/infrastructure/workers/test_workers_init.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/infrastructure/monitoring/optimization_metrics_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/infrastructure/monitoring/test_monitoring_init.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/infrastructure/monitoring/metrics_integration_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/task_management/infrastructure/monitoring/metrics_collector_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/utils/test_isolation_utils.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/utils/test_patterns.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/test_subtask_assignees_fix.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/test_system_message_fix.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/test_db_connection.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/test_init_db.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/test_close_fix.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/test_env_loading.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/test_env_priority_tdd.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/utilities/test_id_validator_security.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/utilities/test_id_validator_behavioral.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/utilities/test_id_validator_edge_cases.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/utilities/test_id_validator_performance.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/utilities/test_id_validator.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/test_websocket_basic.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/test_env_validation.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/middleware/middleware_init_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/middleware/dual_auth_middleware_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/middleware/test_jwt_auth_middleware.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/application/services/test_auth_service.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/auth_module_init_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/mcp_integration/test_auth_fix_verification.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/mcp_integration/repository_filter_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/mcp_integration/mcp_auth_middleware_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/mcp_integration/server_config_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/mcp_integration/jwt_auth_backend_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/websocket_security_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/test_jwt_auth_backend_properties.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/services/mcp_token_service_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/services/auth_services_module_init_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/domain/entities/user_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/domain/services/jwt_service_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/domain/services/password_service_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/domain/value_objects/email_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/domain/value_objects/user_id_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/token_validator_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/interface/fastapi_auth_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/interface/auth_endpoints_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/test_token_extraction.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/infrastructure/repositories/user_repository_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/auth/infrastructure/supabase_auth_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/test_subtask_mcp_controller.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/connection_management/application/use_cases/test_check_connection_health.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/connection_management/application/use_cases/test_register_status_updates.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/connection_management/application/use_cases/test_get_server_capabilities.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/connection_management/application/use_cases/test_get_server_status.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/connection_management/application/use_cases/test_check_server_health.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/connection_management/application/facades/connection_application_facade_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/connection_management/domain/repositories/server_repository_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/connection_management/domain/repositories/connection_repository_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/connection_management/domain/exceptions/connection_exceptions_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/connection_management/domain/entities/server_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/connection_management/domain/entities/connection_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/connection_management/domain/events/connection_events_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/connection_management/domain/services/server_health_service_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/connection_management/domain/services/status_broadcasting_service_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/connection_management/domain/services/connection_diagnostics_service_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/connection_management/domain/value_objects/connection_health_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/connection_management/domain/value_objects/server_capabilities_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/connection_management/domain/value_objects/server_status_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/connection_management/domain/value_objects/status_update_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/test_websocket_protocol.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/test_agent_name_resolution.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/agent_inheritance_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/test_cascade_calculator.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/mcp_controllers/test_task_mcp_controller.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/mcp_controllers/test_task_mcp_controller_complete.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/mcp_controllers/test_runner.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/mcp_controllers/test_project_mcp_controller.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/mcp_controllers/conftest.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/mcp_auto_injection/test_session_hooks.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/services/test_context_field_selector.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/services/test_context_template_manager.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/services/test_response_profiles.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/services/test_response_formatter_optimization.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/services/test_optimization_integration.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/test_dependencies_all_formats.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/dtos/task/create_task_request_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/dtos/task/test_progress_history_fix.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/dtos/context/context_request_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/factories/project_facade_factory_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/factories/project_service_factory_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/factories/test_factories_init.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/factories/unified_context_facade_factory_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/factories/agent_facade_factory_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/factories/git_branch_facade_factory_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/factories/task_facade_factory_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/use_cases/next_task_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/use_cases/test_get_task.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/use_cases/test_assign_agent.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/use_cases/list_tasks_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/use_cases/create_task_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/use_cases/create_git_branch_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/use_cases/test_delete_task.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/use_cases/test_search_tasks.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/use_cases/test_add_subtask_with_inheritance.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/use_cases/test_update_task.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/services/test_progressive_enforcement_service.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/services/workflow_analysis_service_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/services/context_cache_service_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/services/test_project_application_service_patterns.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/services/subtask_application_service_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/services/work_distribution_service_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/services/test_parameter_enforcement_service.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/services/automated_context_sync_service_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/services/context_delegation_service_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/services/unit_task_application_service_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/services/test_context_inheritance_service_4_layer.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/services/test_service_user_isolation.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/services/git_branch_application_service_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/services/dependency_resolver_service_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/services/audit_service_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/services/test_unified_context_service.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/services/test_agent_inheritance_service.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/services/task_context_sync_service_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/services/hint_generation_service_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/services/context_hierarchy_validator_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/services/test_project_application_service.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/services/test_services_user_context.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/facades/test_dependency_application_facade.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/facades/test_task_count_regression.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/facades/test_agent_application_facade_comprehensive.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/facades/project_application_facade_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/facades/test_agent_application_facade_patterns.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/facades/git_branch_application_facade_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/application/facades/test_unified_context_facade.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/examples/test_using_builders.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/test_completion_summary_manual.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/test_sqlite_version_fix.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/test_git_branch_validation.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/repositories/test_project_repository.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/repositories/test_task_repository.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/exceptions/authentication_exceptions_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/entities/task_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/entities/subtask_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/entities/context_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/entities/template_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/entities/work_session_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/entities/project_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/entities/test_project.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/entities/rule_entity_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/entities/git_branch_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/entities/test_context.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/entities/test_task.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/entities/test_subtask.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/entities/label_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/entities/test_task_minimum_agent.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/entities/agent_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/entities/test_work_session.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/entities/test_task_from_src.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/entities/test_git_branch.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/entities/test_agent_inheritance.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/entities/test_global_context_nested_structure.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/entities/test_append_progress.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/services/test_dependency_validation_service.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/services/intelligence/test_intelligent_context_selector.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/services/task_validation_service_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/services/test_rule_composition_service.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/services/task_progress_service_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/services/test_context_derivation_service.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/services/test_task_priority_service.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/services/test_task_state_transition_service.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/value_objects/coordination_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/value_objects/test_task_id.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/value_objects/test_template_id.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/value_objects/test_priority.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/value_objects/test_task_status.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/value_objects/task_status_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/value_objects/test_rule_value_objects.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/value_objects/vision_objects_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/value_objects/test_subtask_id.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/value_objects/task_id_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/domain/constants_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/interface/ddd_compliant_mcp_tools_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/interface/controllers/git_branch_user_id_parameter_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/interface/controllers/agent_mcp_controller_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/interface/controllers/task_user_id_parameter_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/interface/controllers/task_git_branch_filtering_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/interface/controllers/project_mcp_controller_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/interface/controllers/unit_task_mcp_controller_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/interface/controllers/unified_context_controller_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/interface/controllers/git_branch_zero_tasks_deletion_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/interface/mcp_controllers/task_mcp_controller/validators/test_business_validator_status_transitions.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/interface/utils/parameter_validation_fix_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/test_dependencies_parameter.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/infrastructure/repositories/base_user_scoped_repository_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/infrastructure/repositories/project_context_repository_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/infrastructure/repositories/branch_context_repository_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/infrastructure/repositories/test_base_user_scoped_repository.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/infrastructure/repositories/task_repository_factory_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/infrastructure/repositories/orm/git_branch_repository_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/infrastructure/repositories/orm/supabase_optimized_repository_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/infrastructure/repositories/orm/unit_project_repository_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/infrastructure/repositories/orm/test_git_branch_repository_comprehensive.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/infrastructure/repositories/orm/test_comprehensive_branch_cascade_deletion.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/infrastructure/repositories/orm/subtask_repository_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/infrastructure/repositories/orm/unit_task_repository_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/infrastructure/repositories/base_orm_repository_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/infrastructure/migrations/run_migration_005_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/infrastructure/database/migrations/add_user_id_to_project_contexts_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/infrastructure/database/migrations/add_task_progress_field_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/infrastructure/database/init_database_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/infrastructure/test_event_bus.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/infrastructure/test_di_container.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/infrastructure/test_event_store.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/task_management/infrastructure/test_notification_service.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/unit/test_env_loading_tdd.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/server/http_server_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/server/auth/providers/jwt_bearer_test.py
[0;34m→ Running (new):[0m agenthub_main/src/tests/conftest.py

[0;36m[1mRunning tests...[0m

[1;33mTests to run: 368[0m


🧪 Starting agenthub Test Suite
🛡️  Test data isolation enabled
🧹 Automatic cleanup configured
============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.4.1, pluggy-1.6.0 -- /usr/bin/python
cachedir: .pytest_cache
rootdir: /home/daihungpham/__projects__/4genthub/agenthub_main/src/tests
configfile: pytest.ini
plugins: postgresql-7.0.2, cov-6.2.1, anyio-4.9.0, asyncio-1.0.0
asyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 6952 items / 6 skipped

agenthub_main/src/tests/test_cascade_deletion_fix_verification.py::test_sqlalchemy_cascade_deletion PASSED [  0%]
agenthub_main/src/tests/test_cascade_deletion_fix_verification.py::test_database_foreign_key_cascade PASSED [  0%]
agenthub_main/src/tests/test_cascade_deletion_fix_verification.py::test_repository_manual_deletion_still_works PASSED [  0%]
agenthub_main/src/tests/shared/test_shared_init.py::TestSharedInit::test_module_imports PASSED [  0%]
agenthub_main/src/tests/shared/test_shared_init.py::TestSharedInit::test_exported_items PASSED [  0%]
agenthub_main/src/tests/shared/test_shared_init.py::TestSharedInit::test_all_exports PASSED [  0%]
agenthub_main/src/tests/shared/test_shared_init.py::TestSharedInit::test_infrastructure_imports PASSED [  0%]
agenthub_main/src/tests/shared/infrastructure/test_infrastructure_init.py::TestSharedInfrastructureInit::test_module_imports PASSED [  0%]
agenthub_main/src/tests/shared/infrastructure/test_infrastructure_init.py::TestSharedInfrastructureInit::test_exported_items PASSED [  0%]
agenthub_main/src/tests/shared/infrastructure/test_infrastructure_init.py::TestSharedInfrastructureInit::test_all_exports PASSED [  0%]
agenthub_main/src/tests/shared/infrastructure/test_infrastructure_init.py::TestSharedInfrastructureInit::test_messaging_imports PASSED [  0%]
agenthub_main/src/tests/shared/infrastructure/test_infrastructure_init.py::TestSharedInfrastructureInit::test_function_imports PASSED [  0%]
agenthub_main/src/tests/shared/infrastructure/messaging/event_bus_test.py::TestDomainEvent::test_event_name PASSED [  0%]
agenthub_main/src/tests/shared/infrastructure/messaging/event_bus_test.py::TestDomainEvent::test_event_metadata PASSED [  0%]
agenthub_main/src/tests/shared/infrastructure/messaging/test_messaging_init.py::TestMessagingInit::test_module_imports PASSED [  0%]
agenthub_main/src/tests/shared/infrastructure/messaging/test_messaging_init.py::TestMessagingInit::test_exported_items PASSED [  0%]
agenthub_main/src/tests/shared/infrastructure/messaging/test_messaging_init.py::TestMessagingInit::test_all_exports PASSED [  0%]
agenthub_main/src/tests/shared/infrastructure/messaging/test_messaging_init.py::TestMessagingInit::test_event_bus_imports PASSED [  0%]
agenthub_main/src/tests/shared/infrastructure/messaging/test_messaging_init.py::TestMessagingInit::test_enums_and_types PASSED [  0%]
agenthub_main/src/tests/integration/test_service_account_auth.py::TestServiceAccountAuth::test_service_account_config_from_env PASSED [  0%]
agenthub_main/src/tests/integration/test_service_account_auth.py::TestServiceAccountAuth::test_service_token_expiry_logic PASSED [  0%]
agenthub_main/src/tests/integration/test_service_account_auth.py::TestServiceAccountAuth::test_config_validation PASSED [  0%]
agenthub_main/src/tests/integration/test_service_account_auth.py::TestServiceAccountAuth::test_successful_authentication PASSED [  0%]
agenthub_main/src/tests/integration/test_service_account_auth.py::TestServiceAccountAuth::test_authentication_failure PASSED [  0%]
agenthub_main/src/tests/integration/test_service_account_auth.py::TestServiceAccountAuth::test_token_caching PASSED [  0%]
agenthub_main/src/tests/integration/test_service_account_auth.py::TestServiceAccountAuth::test_force_refresh PASSED [  0%]
agenthub_main/src/tests/integration/test_service_account_auth.py::TestServiceAccountAuth::test_get_valid_token PASSED [  0%]
agenthub_main/src/tests/integration/test_service_account_auth.py::TestServiceAccountAuth::test_health_check PASSED [  0%]
agenthub_main/src/tests/integration/test_service_account_auth.py::TestServiceAccountAuth::test_get_service_info PASSED [  0%]
agenthub_main/src/tests/integration/test_service_account_auth.py::TestServiceAccountAuth::test_rate_limiting PASSED [  0%]
agenthub_main/src/tests/integration/test_service_account_auth.py::TestServiceAccountAuth::test_get_auth_headers PASSED [  0%]
agenthub_main/src/tests/integration/test_service_account_auth.py::TestServiceAccountAuth::test_context_manager PASSED [  0%]
agenthub_main/src/tests/integration/test_service_account_auth.py::TestServiceAccountAuth::test_singleton_instance PASSED [  0%]
agenthub_main/src/tests/integration/test_service_account_auth.py::TestAuthenticationHelper::test_authenticate_service_request_valid PASSED [  0%]
agenthub_main/src/tests/integration/test_service_account_auth.py::TestAuthenticationHelper::test_authenticate_service_request_invalid_header PASSED [  0%]
agenthub_main/src/tests/integration/test_service_account_auth.py::TestAuthenticationHelper::test_authenticate_service_request_invalid_token PASSED [  0%]
agenthub_main/src/tests/integration/test_service_account_auth.py::TestErrorHandling::test_network_error_handling PASSED [  0%]
agenthub_main/src/tests/integration/test_service_account_auth.py::TestErrorHandling::test_malformed_response_handling PASSED [  0%]
agenthub_main/src/tests/integration/test_service_account_auth.py::TestRealKeycloakIntegration::test_real_authentication SKIPPED [  0%]
agenthub_main/src/tests/integration/test_service_account_auth.py::TestRealKeycloakIntegration::test_real_token_validation SKIPPED [  0%]
agenthub_main/src/tests/integration/test_service_account_auth.py::TestRealKeycloakIntegration::test_real_health_check SKIPPED [  0%]
agenthub_main/src/tests/integration/test_selective_field_queries.py::TestSelectiveFieldQueries::test_caching_functionality PASSED [  0%]
agenthub_main/src/tests/integration/test_selective_field_queries.py::TestSelectiveFieldQueries::test_context_field_selector_initialization PASSED [  0%]
agenthub_main/src/tests/integration/test_selective_field_queries.py::TestSelectiveFieldQueries::test_estimate_savings PASSED [  0%]
agenthub_main/src/tests/integration/test_selective_field_queries.py::TestSelectiveFieldQueries::test_field_dependencies_expansion PASSED [  0%]
agenthub_main/src/tests/integration/test_selective_field_queries.py::TestSelectiveFieldQueries::test_field_sets_defined PASSED [  0%]
agenthub_main/src/tests/integration/test_selective_field_queries.py::TestSelectiveFieldQueries::test_get_context_fields PASSED [  0%]
agenthub_main/src/tests/integration/test_selective_field_queries.py::TestSelectiveFieldQueries::test_get_project_fields PASSED [  0%]
agenthub_main/src/tests/integration/test_selective_field_queries.py::TestSelectiveFieldQueries::test_get_task_fields PASSED [  0%]
agenthub_main/src/tests/integration/test_selective_field_queries.py::TestSelectiveFieldQueries::test_metrics_tracking PASSED [  0%]
agenthub_main/src/tests/integration/test_selective_field_queries.py::TestSelectiveFieldQueries::test_optimal_field_set_recommendation PASSED [  0%]
agenthub_main/src/tests/integration/test_selective_field_queries.py::TestSelectiveFieldQueries::test_performance_targets_validation PASSED [  0%]
agenthub_main/src/tests/integration/test_selective_field_queries.py::TestSelectiveFieldQueries::test_project_repository_selective_fields_mock PASSED [  0%]
agenthub_main/src/tests/integration/test_selective_field_queries.py::TestSelectiveFieldQueries::test_task_repository_selective_fields_mock PASSED [  0%]
agenthub_main/src/tests/integration/test_mcp_tools_inclusion.py::test_mcp_tools_inclusion PASSED [  0%]
agenthub_main/src/tests/integration/test_assignees_fix.py::test_agent_role_validation PASSED [  0%]
agenthub_main/src/tests/integration/test_assignees_fix.py::test_available_roles PASSED [  0%]
agenthub_main/src/tests/integration/agent_assignment_flow_test.py::TestAgentAssignmentAtCreation::test_create_task_with_multiple_assignees_success PASSED [  0%]
agenthub_main/src/tests/integration/agent_assignment_flow_test.py::TestAgentAssignmentAtCreation::test_create_task_with_invalid_assignees PASSED [  0%]
agenthub_main/src/tests/integration/agent_assignment_flow_test.py::TestAgentAssignmentAtCreation::test_create_task_empty_assignees PASSED [  0%]
agenthub_main/src/tests/integration/agent_assignment_flow_test.py::TestAgentInheritanceFlow::test_create_subtask_inherits_parent_assignees PASSED [  0%]
agenthub_main/src/tests/integration/agent_assignment_flow_test.py::TestAgentInheritanceFlow::test_create_subtask_with_explicit_assignees_no_inheritance PASSED [  0%]
agenthub_main/src/tests/integration/agent_assignment_flow_test.py::TestAgentInheritanceFlow::test_create_subtask_invalid_assignees PASSED [  0%]
agenthub_main/src/tests/integration/agent_assignment_flow_test.py::TestEndToEndAgentFlow::test_complete_task_to_subtask_flow PASSED [  0%]
agenthub_main/src/tests/integration/agent_assignment_flow_test.py::TestEndToEndAgentFlow::test_multiple_subtasks_inheritance_scenarios PASSED [  0%]
agenthub_main/src/tests/integration/agent_assignment_flow_test.py::TestEdgeCasesAndErrorHandling::test_create_task_with_mixed_valid_invalid_assignees PASSED [  0%]
agenthub_main/src/tests/integration/agent_assignment_flow_test.py::TestEdgeCasesAndErrorHandling::test_create_subtask_parent_task_not_found PASSED [  0%]
agenthub_main/src/tests/integration/agent_assignment_flow_test.py::TestEdgeCasesAndErrorHandling::test_create_subtask_inheritance_service_failure PASSED [  0%]
agenthub_main/src/tests/integration/agent_assignment_flow_test.py::TestEdgeCasesAndErrorHandling::test_validate_large_assignee_list PASSED [  0%]
agenthub_main/src/tests/integration/test_bulk_api.py::TestBulkSummariesEndpoint::test_bulk_summaries_with_project_ids SKIPPED [  1%]
agenthub_main/src/tests/integration/test_bulk_api.py::TestBulkSummariesEndpoint::test_bulk_summaries_performance SKIPPED [  1%]
agenthub_main/src/tests/integration/test_bulk_api.py::TestBulkSummariesEndpoint::test_bulk_summaries_with_user_projects SKIPPED [  1%]
agenthub_main/src/tests/integration/test_bulk_api.py::TestBulkSummariesEndpoint::test_bulk_summaries_include_archived SKIPPED [  1%]
agenthub_main/src/tests/integration/test_bulk_api.py::TestBulkSummariesEndpoint::test_bulk_summaries_empty_result SKIPPED [  1%]
agenthub_main/src/tests/integration/test_bulk_api.py::TestBulkSummariesEndpoint::test_bulk_summaries_error_handling SKIPPED [  1%]
agenthub_main/src/tests/integration/test_id_validation_api_flows.py::TestSubtaskAPIIntegrationWithValidation::test_subtask_controller_integration_with_validation PASSED [  1%]
agenthub_main/src/tests/integration/test_id_validation_api_flows.py::TestSubtaskAPIIntegrationWithValidation::test_api_endpoint_integration_with_validation PASSED [  1%]
agenthub_main/src/tests/integration/test_id_validation_api_flows.py::TestSubtaskAPIIntegrationWithValidation::test_database_integration_with_validation PASSED [  1%]
agenthub_main/src/tests/integration/test_id_validation_api_flows.py::TestSubtaskAPIIntegrationWithValidation::test_full_stack_integration_scenario PASSED [  1%]
agenthub_main/src/tests/integration/test_auth_websocket_integration.py::TestAuthWebSocketIntegration::test_websocket_token_validation_success PASSED [  1%]
agenthub_main/src/tests/integration/test_auth_websocket_integration.py::TestAuthWebSocketIntegration::test_websocket_token_validation_failure PASSED [  1%]
agenthub_main/src/tests/integration/test_auth_websocket_integration.py::TestAuthWebSocketIntegration::test_websocket_token_validation_no_token PASSED [  1%]
agenthub_main/src/tests/integration/test_auth_websocket_integration.py::TestAuthWebSocketIntegration::test_websocket_connection_requires_authentication PASSED [  1%]
agenthub_main/src/tests/integration/test_auth_websocket_integration.py::TestAuthWebSocketIntegration::test_websocket_connection_success_with_valid_token PASSED [  1%]
agenthub_main/src/tests/integration/test_auth_websocket_integration.py::TestAuthWebSocketIntegration::test_websocket_cleanup_on_disconnection PASSED [  1%]
agenthub_main/src/tests/integration/test_auth_websocket_integration.py::TestAuthWebSocketIntegration::test_auth_context_integration_concept PASSED [  1%]
agenthub_main/src/tests/integration/test_auth_websocket_integration.py::TestAuthWebSocketIntegration::test_websocket_authorization_per_user PASSED [  1%]
agenthub_main/src/tests/integration/test_subtask_api_integration.py::TestSubtaskAPIIntegration::test_create_subtask_with_correct_parent_task_id SKIPPED [  1%]
agenthub_main/src/tests/integration/test_subtask_api_integration.py::TestSubtaskAPIIntegration::test_fetch_subtask_via_parent_task_endpoint SKIPPED [  1%]
agenthub_main/src/tests/integration/test_subtask_api_integration.py::TestSubtaskAPIIntegration::test_list_subtasks_for_task SKIPPED [  1%]
agenthub_main/src/tests/integration/test_subtask_api_integration.py::TestSubtaskAPIIntegration::test_reject_invalid_task_id_for_subtask_creation PASSED [  1%]
agenthub_main/src/tests/integration/test_subtask_api_integration.py::TestSubtaskAPIIntegration::test_update_subtask_maintains_parent_relationship SKIPPED [  1%]
agenthub_main/src/tests/integration/test_subtask_api_integration.py::TestSubtaskAPIIntegration::test_delete_subtask_via_parent_task SKIPPED [  1%]
agenthub_main/src/tests/integration/test_direct_task_creation.py::test_direct_task_creation PASSED [  1%]
agenthub_main/src/tests/integration/test_docker_config.py::TestCapRoverPostgreSQLConnection::test_caprover_ssl_disabled_connection_string PASSED [  1%]
agenthub_main/src/tests/integration/test_docker_config.py::TestCapRoverPostgreSQLConnection::test_caprover_postgres_docker_compose_configuration PASSED [  1%]
agenthub_main/src/tests/integration/test_docker_config.py::TestManagedPostgreSQLConnection::test_managed_postgres_ssl_required_connection_string PASSED [  1%]
agenthub_main/src/tests/integration/test_docker_config.py::TestManagedPostgreSQLConnection::test_supabase_ssl_always_required PASSED [  1%]
agenthub_main/src/tests/integration/test_docker_config.py::TestUvicornStartupValidation::test_uvicorn_log_level_case_conversion[INFO-info] PASSED [  1%]
agenthub_main/src/tests/integration/test_docker_config.py::TestUvicornStartupValidation::test_uvicorn_log_level_case_conversion[DEBUG-debug] PASSED [  1%]
agenthub_main/src/tests/integration/test_docker_config.py::TestUvicornStartupValidation::test_uvicorn_log_level_case_conversion[WARNING-warning] PASSED [  1%]
agenthub_main/src/tests/integration/test_docker_config.py::TestUvicornStartupValidation::test_uvicorn_log_level_case_conversion[ERROR-error] PASSED [  1%]
agenthub_main/src/tests/integration/test_docker_config.py::TestUvicornStartupValidation::test_uvicorn_log_level_case_conversion[info-info] PASSED [  1%]
agenthub_main/src/tests/integration/test_docker_config.py::TestUvicornStartupValidation::test_uvicorn_log_level_case_conversion[Debug-debug] PASSED [  1%]
agenthub_main/src/tests/integration/test_docker_config.py::TestUvicornStartupValidation::test_uvicorn_startup_in_docker_container PASSED [  1%]
agenthub_main/src/tests/integration/test_docker_config.py::TestEndToEndDeploymentScenarios::test_caprover_deployment_environment_validation PASSED [  1%]
agenthub_main/src/tests/integration/test_docker_config.py::TestEndToEndDeploymentScenarios::test_managed_postgresql_deployment_environment_validation PASSED [  1%]
agenthub_main/src/tests/integration/test_docker_config.py::TestEndToEndDeploymentScenarios::test_docker_entrypoint_environment_validation_integration PASSED [  1%]
agenthub_main/src/tests/integration/test_docker_config.py::TestErrorScenarios::test_docker_entrypoint_missing_environment_variables PASSED [  1%]
agenthub_main/src/tests/integration/test_docker_config.py::TestErrorScenarios::test_docker_entrypoint_weak_jwt_secret PASSED [  1%]
agenthub_main/src/tests/integration/test_manual_task_creation.py::test_manual_task_creation PASSED [  1%]
agenthub_main/src/tests/integration/task_management/test_subtask_user_id_fix.py::TestSubtaskUserIdFix::test_create_subtask_with_user_id PASSED [  1%]
agenthub_main/src/tests/integration/task_management/test_subtask_user_id_fix.py::TestSubtaskUserIdFix::test_create_subtask_without_user_id_uses_mvp_fallback PASSED [  1%]
agenthub_main/src/tests/integration/task_management/test_subtask_user_id_fix.py::TestSubtaskUserIdFix::test_subtask_repository_from_factory PASSED [  1%]
agenthub_main/src/tests/integration/task_management/test_critical_fixes_verification.py::TestCriticalFixesVerification::test_subtask_requires_authentication PASSED [  1%]
agenthub_main/src/tests/integration/task_management/test_critical_fixes_verification.py::TestCriticalFixesVerification::test_context_nonetype_iteration_fix PASSED [  1%]
agenthub_main/src/tests/integration/task_management/test_critical_fixes_verification.py::TestCriticalFixesVerification::test_context_creation_with_none_data PASSED [  1%]
agenthub_main/src/tests/integration/task_management/interface/git_branch_filtering_integration_test.py::TestGitBranchFilteringIntegration::test_list_tasks_filters_by_branch_a PASSED [  1%]
agenthub_main/src/tests/integration/task_management/interface/git_branch_filtering_integration_test.py::TestGitBranchFilteringIntegration::test_list_tasks_filters_by_branch_b PASSED [  1%]
agenthub_main/src/tests/integration/task_management/interface/git_branch_filtering_integration_test.py::TestGitBranchFilteringIntegration::test_list_tasks_without_filter_returns_all_tasks PASSED [  1%]
agenthub_main/src/tests/integration/task_management/interface/git_branch_filtering_integration_test.py::TestGitBranchFilteringIntegration::test_optimized_repository_direct_filtering PASSED [  1%]
agenthub_main/src/tests/integration/task_management/interface/git_branch_filtering_integration_test.py::TestGitBranchFilteringIntegration::test_optimized_repository_parameter_override PASSED [  1%]
agenthub_main/src/tests/integration/task_management/interface/git_branch_zero_tasks_deletion_integration_test.py::TestGitBranchZeroTasksDeletionIntegration::test_verify_test_data_setup PASSED [  1%]
agenthub_main/src/tests/integration/task_management/interface/git_branch_zero_tasks_deletion_integration_test.py::TestGitBranchZeroTasksDeletionIntegration::test_delete_empty_branch_full_integration PASSED [  1%]
agenthub_main/src/tests/integration/task_management/interface/git_branch_zero_tasks_deletion_integration_test.py::TestGitBranchZeroTasksDeletionIntegration::test_delete_branch_with_tasks_for_comparison PASSED [  1%]
agenthub_main/src/tests/integration/task_management/interface/git_branch_zero_tasks_deletion_integration_test.py::TestGitBranchZeroTasksDeletionIntegration::test_list_branches_shows_task_counts_correctly PASSED [  1%]
agenthub_main/src/tests/integration/task_management/interface/git_branch_zero_tasks_deletion_integration_test.py::TestGitBranchZeroTasksDeletionIntegration::test_get_branch_statistics_for_empty_branch PASSED [  1%]
agenthub_main/src/tests/integration/task_management/interface/git_branch_zero_tasks_deletion_integration_test.py::TestGitBranchZeroTasksDeletionIntegration::test_edge_case_delete_nonexistent_branch PASSED [  1%]
agenthub_main/src/tests/integration/task_management/interface/git_branch_zero_tasks_deletion_integration_test.py::TestGitBranchZeroTasksDeletionIntegration::test_comprehensive_branch_lifecycle PASSED [  1%]
agenthub_main/src/tests/integration/test_websocket_server.py::TestWebSocketServer::test_server_initialization SKIPPED [  1%]
agenthub_main/src/tests/integration/test_websocket_server.py::TestWebSocketServer::test_server_startup_shutdown PASSED [  1%]
agenthub_main/src/tests/integration/test_websocket_server.py::TestWebSocketServer::test_health_status PASSED [  1%]
agenthub_main/src/tests/integration/test_websocket_server.py::TestWebSocketServer::test_detailed_stats PASSED [  1%]
agenthub_main/src/tests/integration/test_websocket_server.py::TestConnectionManager::test_connection_management PASSED [  1%]
agenthub_main/src/tests/integration/test_websocket_server.py::TestConnectionManager::test_message_validation PASSED [  1%]
agenthub_main/src/tests/integration/test_websocket_server.py::TestConnectionManager::test_invalid_version_rejection PASSED [  1%]
agenthub_main/src/tests/integration/test_websocket_server.py::TestConnectionManager::test_connection_stats PASSED [  1%]
agenthub_main/src/tests/integration/test_websocket_server.py::TestBatchProcessor::test_batch_processor_lifecycle PASSED [  1%]
agenthub_main/src/tests/integration/test_websocket_server.py::TestBatchProcessor::test_batch_configuration PASSED [  1%]
agenthub_main/src/tests/integration/test_websocket_server.py::TestBatchProcessor::test_message_deduplication PASSED [  2%]
agenthub_main/src/tests/integration/test_websocket_server.py::TestBatchProcessor::test_batch_stats PASSED [  2%]
agenthub_main/src/tests/integration/test_websocket_server.py::TestProtocolIntegration::test_user_message_with_cascade PASSED [  2%]
agenthub_main/src/tests/integration/test_websocket_server.py::TestProtocolIntegration::test_error_message_creation PASSED [  2%]
agenthub_main/src/tests/integration/test_websocket_server.py::TestAuthentication::test_valid_token_authentication PASSED [  2%]
agenthub_main/src/tests/integration/test_websocket_server.py::TestAuthentication::test_invalid_token_rejection PASSED [  2%]
agenthub_main/src/tests/integration/test_websocket_server.py::TestFastAPIIntegration::test_websocket_endpoints_info PASSED [  2%]
agenthub_main/src/tests/integration/test_websocket_server.py::TestFastAPIIntegration::test_integration_setup PASSED [  2%]
agenthub_main/src/tests/test_cascade_deletion_verification.py::test_cascade_deletion PASSED [  2%]
agenthub_main/src/tests/test_cascade_deletion_verification.py::test_cascade_deletion_sync PASSED [  2%]
agenthub_main/src/tests/e2e/test_subtask_dialog_flow.py::TestSubtaskDialogFlow::test_subtask_detail_button_opens_correct_dialog SKIPPED [  2%]
agenthub_main/src/tests/e2e/test_subtask_dialog_flow.py::TestSubtaskDialogFlow::test_subtask_url_remains_stable_after_dialog_open SKIPPED [  2%]
agenthub_main/src/tests/e2e/test_subtask_dialog_flow.py::TestSubtaskDialogFlow::test_subtask_api_calls_use_correct_task_id_format SKIPPED [  2%]
agenthub_main/src/tests/e2e/test_subtask_dialog_flow.py::TestSubtaskDialogFlow::test_subtask_dialog_displays_correct_content SKIPPED [  2%]
agenthub_main/src/tests/e2e/test_subtask_dialog_flow.py::TestSubtaskDialogFlow::test_closing_subtask_dialog_updates_url_correctly SKIPPED [  2%]
agenthub_main/src/tests/e2e/test_subtask_dialog_flow.py::TestSubtaskDialogFlow::test_multiple_subtask_dialogs_maintain_correct_urls SKIPPED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakAuthProvider::test_initialization_with_params PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakAuthProvider::test_initialization_from_env PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakAuthProvider::test_initialization_missing_url PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakAuthProvider::test_url_construction PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakAuthProvider::test_jwks_client_creation PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakAuthProvider::test_get_oidc_configuration_success PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakAuthProvider::test_get_oidc_configuration_cached PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakAuthProvider::test_get_oidc_configuration_cache_expired PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakAuthProvider::test_validate_token_success PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakAuthProvider::test_validate_token_expired PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakAuthProvider::test_validate_token_invalid PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakAuthProvider::test_validate_token_missing_sub PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakAuthProvider::test_get_user_info_success PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakAuthProvider::test_get_user_info_failure PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakAuthProvider::test_exchange_token_password_grant PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakAuthProvider::test_exchange_token_refresh_grant PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakAuthProvider::test_exchange_token_auth_code_grant PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakAuthProvider::test_exchange_token_no_credentials PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakAuthProvider::test_exchange_token_http_error PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakAuthProvider::test_logout_success PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakAuthProvider::test_logout_failure PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakAuthProvider::test_close PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakMCPAuth::test_authenticate_mcp_request_success PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakMCPAuth::test_authenticate_mcp_request_no_header PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakMCPAuth::test_authenticate_mcp_request_invalid_format PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakMCPAuth::test_authenticate_mcp_request_invalid_token PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakMCPAuth::test_mcp_permissions_mapping_admin PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakMCPAuth::test_mcp_permissions_mapping_user PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakMCPAuth::test_mcp_permissions_mapping_default PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakMCPAuth::test_create_mcp_token_success PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakMCPAuth::test_create_mcp_token_invalid_keycloak PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestKeycloakMCPAuth::test_create_mcp_token_default_scopes PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestSingletonFunctions::test_get_keycloak_provider_singleton PASSED [  2%]
agenthub_main/src/tests/auth/keycloak_integration_test.py::TestSingletonFunctions::test_get_keycloak_mcp_auth PASSED [  2%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestHookAuthValidator::test_validate_hook_token_valid PASSED [  2%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestHookAuthValidator::test_validate_hook_token_expired PASSED [  2%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestHookAuthValidator::test_validate_hook_token_invalid_signature PASSED [  2%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestHookAuthValidator::test_validate_hook_token_auth_disabled PASSED [  2%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestHookAuthValidator::test_validate_hook_token_not_hook_token PASSED [  2%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestHookAuthValidator::test_validate_hook_token_invalid_format PASSED [  2%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestHookAuthValidator::test_validate_hook_token_unexpected_error PASSED [  2%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestHookAuthDependencies::test_get_hook_authenticated_user_success PASSED [  2%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestHookAuthDependencies::test_get_hook_authenticated_user_no_credentials PASSED [  2%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestHookAuthDependencies::test_get_hook_authenticated_user_invalid_token PASSED [  2%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestHookDetection::test_is_hook_request_python PASSED [  2%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestHookDetection::test_is_hook_request_aiohttp PASSED [  2%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestHookDetection::test_is_hook_request_httpx PASSED [  2%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestHookDetection::test_is_hook_request_claude_hook PASSED [  2%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestHookDetection::test_is_hook_request_mcp_client PASSED [  2%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestHookDetection::test_is_hook_request_browser PASSED [  2%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestHookDetection::test_is_hook_request_no_user_agent PASSED [  2%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestHookDetection::test_is_hook_request_case_insensitive PASSED [  2%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestMcpJsonToken::test_get_token_from_mcp_json_success PASSED [  2%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestMcpJsonToken::test_get_token_from_mcp_json_no_file PASSED [  3%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestMcpJsonToken::test_get_token_from_mcp_json_invalid_structure PASSED [  3%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestMcpJsonToken::test_get_token_from_mcp_json_no_bearer_prefix PASSED [  3%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestTokenCreation::test_create_hook_token_default PASSED [  3%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestTokenCreation::test_create_hook_token_custom_user PASSED [  3%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestTokenCreation::test_create_hook_token_custom_expiry PASSED [  3%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestTokenCreation::test_create_hook_token_unique_jti PASSED [  3%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestIntegration::test_round_trip_token_creation_and_validation PASSED [  3%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestIntegration::test_full_auth_flow PASSED [  3%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestEnvironmentVariables::test_hook_jwt_algorithm_default PASSED [  3%]
agenthub_main/src/tests/auth/hook_auth_test.py::TestEnvironmentVariables::test_hook_jwt_secret_required PASSED [  3%]
agenthub_main/src/tests/auth/dependencies_test.py::TestGetCurrentUser::test_get_current_user_with_valid_token PASSED [  3%]
agenthub_main/src/tests/auth/dependencies_test.py::TestGetCurrentUser::test_get_current_user_with_user_id_instead_of_sub PASSED [  3%]
agenthub_main/src/tests/auth/dependencies_test.py::TestGetCurrentUser::test_get_current_user_without_jwt_secret PASSED [  3%]
agenthub_main/src/tests/auth/dependencies_test.py::TestGetCurrentUser::test_get_current_user_with_expired_token PASSED [  3%]
agenthub_main/src/tests/auth/dependencies_test.py::TestGetCurrentUser::test_get_current_user_with_invalid_token PASSED [  3%]
agenthub_main/src/tests/auth/dependencies_test.py::TestGetCurrentUser::test_get_current_user_missing_user_id PASSED [  3%]
agenthub_main/src/tests/auth/dependencies_test.py::TestGetCurrentUser::test_get_current_user_with_expired_timestamp PASSED [  3%]
agenthub_main/src/tests/auth/dependencies_test.py::TestGetCurrentUser::test_get_current_user_with_minimal_payload PASSED [  3%]
agenthub_main/src/tests/auth/dependencies_test.py::TestGetCurrentUser::test_get_current_user_general_exception PASSED [  3%]
agenthub_main/src/tests/auth/dependencies_test.py::TestGetOptionalCurrentUser::test_get_optional_user_with_no_credentials PASSED [  3%]
agenthub_main/src/tests/auth/dependencies_test.py::TestGetOptionalCurrentUser::test_get_optional_user_with_valid_credentials PASSED [  3%]
agenthub_main/src/tests/auth/dependencies_test.py::TestGetOptionalCurrentUser::test_get_optional_user_with_invalid_credentials PASSED [  3%]
agenthub_main/src/tests/auth/dependencies_test.py::TestJWTConfiguration::test_jwt_algorithm_default PASSED [  3%]
agenthub_main/src/tests/auth/dependencies_test.py::TestJWTConfiguration::test_jwt_algorithm_from_env PASSED [  3%]
agenthub_main/src/tests/auth/dependencies_test.py::TestJWTConfiguration::test_jwt_secret_key_warning_when_not_set PASSED [  3%]
agenthub_main/src/tests/auth/middleware/request_context_middleware_test.py::TestRequestContextMiddleware::test_dispatch_no_auth PASSED [  3%]
agenthub_main/src/tests/auth/middleware/request_context_middleware_test.py::TestRequestContextMiddleware::test_dispatch_with_auth PASSED [  3%]
agenthub_main/src/tests/auth/middleware/request_context_middleware_test.py::TestRequestContextMiddleware::test_dispatch_mcp_endpoint PASSED [  3%]
agenthub_main/src/tests/auth/middleware/request_context_middleware_test.py::TestRequestContextMiddleware::test_dispatch_error_handling PASSED [  3%]
agenthub_main/src/tests/auth/middleware/request_context_middleware_test.py::TestRequestContextMiddleware::test_capture_auth_context_from_request_state PASSED [  3%]
agenthub_main/src/tests/auth/middleware/request_context_middleware_test.py::TestRequestContextMiddleware::test_capture_auth_context_no_request_state PASSED [  3%]
agenthub_main/src/tests/auth/middleware/request_context_middleware_test.py::TestRequestContextMiddleware::test_capture_auth_context_error PASSED [  3%]
agenthub_main/src/tests/auth/middleware/request_context_middleware_test.py::TestRequestContextMiddleware::test_clear_auth_context PASSED [  3%]
agenthub_main/src/tests/auth/middleware/request_context_middleware_test.py::TestRequestContextMiddleware::test_get_current_user_id PASSED [  3%]
agenthub_main/src/tests/auth/middleware/request_context_middleware_test.py::TestRequestContextMiddleware::test_get_current_user_email PASSED [  3%]
agenthub_main/src/tests/auth/middleware/request_context_middleware_test.py::TestRequestContextMiddleware::test_get_current_auth_method PASSED [  3%]
agenthub_main/src/tests/auth/middleware/request_context_middleware_test.py::TestRequestContextMiddleware::test_get_current_auth_info PASSED [  3%]
agenthub_main/src/tests/auth/middleware/request_context_middleware_test.py::TestRequestContextMiddleware::test_is_request_authenticated PASSED [  3%]
agenthub_main/src/tests/auth/middleware/request_context_middleware_test.py::TestRequestContextMiddleware::test_get_authentication_context PASSED [  3%]
agenthub_main/src/tests/auth/middleware/request_context_middleware_test.py::TestRequestContextMiddleware::test_get_authentication_context_error PASSED [  3%]
agenthub_main/src/tests/auth/middleware/request_context_middleware_test.py::TestRequestContextMiddleware::test_get_current_user_context_backward_compat PASSED [  3%]
agenthub_main/src/tests/auth/middleware/request_context_middleware_test.py::TestRequestContextMiddleware::test_context_var_error_handling PASSED [  3%]
agenthub_main/src/tests/auth/middleware/request_context_middleware_test.py::TestRequestContextMiddleware::test_create_request_context_middleware PASSED [  3%]
agenthub_main/src/tests/auth/middleware/request_context_middleware_test.py::TestRequestContextMiddleware::test_dispatch_asgi_scope_edge_cases PASSED [  3%]
agenthub_main/src/tests/auth/mcp_integration/test_supabase_connection_fix.py::TestSupabaseConnectionFix::test_current_environment_configuration PASSED [  3%]
agenthub_main/src/tests/auth/mcp_integration/test_supabase_connection_fix.py::TestSupabaseConnectionFix::test_fix_with_database_url PASSED [  3%]
agenthub_main/src/tests/auth/mcp_integration/test_supabase_connection_fix.py::TestSupabaseConnectionFix::test_fix_with_supabase_database_url PASSED [  3%]
agenthub_main/src/tests/auth/mcp_integration/test_supabase_connection_fix.py::TestSupabaseConnectionFix::test_component_construction_fallback PASSED [  3%]
agenthub_main/src/tests/auth/mcp_integration/test_supabase_connection_fix.py::TestSupabaseConnectionFix::test_database_config_with_fix PASSED [  3%]
agenthub_main/src/tests/auth/mcp_integration/test_supabase_connection_fix.py::TestSupabaseConnectionFix::test_complete_fix_validation PASSED [  3%]
agenthub_main/src/tests/auth/mcp_integration/test_database_connection_analysis.py::TestDatabaseConnectionAnalysis::test_database_config_analysis PASSED [  3%]
agenthub_main/src/tests/auth/mcp_integration/test_database_connection_analysis.py::TestDatabaseConnectionAnalysis::test_repository_analysis PASSED [  3%]
agenthub_main/src/tests/auth/mcp_integration/test_database_connection_analysis.py::TestDatabaseConnectionAnalysis::test_root_cause_analysis PASSED [  3%]
agenthub_main/src/tests/auth/mcp_integration/test_database_connection_analysis.py::TestDatabaseConnectionAnalysis::test_fix_recommendations PASSED [  3%]
agenthub_main/src/tests/auth/mcp_integration/test_database_connection_analysis.py::TestDatabaseConnectionAnalysis::test_complete_analysis_report PASSED [  3%]
agenthub_main/src/tests/auth/models/api_token_test.py::TestApiToken::test_api_token_table_name PASSED [  3%]
agenthub_main/src/tests/auth/models/api_token_test.py::TestApiToken::test_api_token_columns PASSED [  3%]
agenthub_main/src/tests/auth/models/api_token_test.py::TestApiToken::test_api_token_creation PASSED [  3%]
agenthub_main/src/tests/auth/models/api_token_test.py::TestApiToken::test_api_token_defaults PASSED [  3%]
agenthub_main/src/tests/auth/models/api_token_test.py::TestApiToken::test_to_dict_basic PASSED [  3%]
agenthub_main/src/tests/auth/models/api_token_test.py::TestApiToken::test_to_dict_with_token PASSED [  3%]
agenthub_main/src/tests/auth/models/api_token_test.py::TestApiToken::test_to_dict_include_token_no_value PASSED [  3%]
agenthub_main/src/tests/auth/models/api_token_test.py::TestApiToken::test_to_dict_datetime_formatting PASSED [  3%]
agenthub_main/src/tests/auth/models/api_token_test.py::TestApiToken::test_to_dict_with_last_used PASSED [  3%]
agenthub_main/src/tests/auth/models/api_token_test.py::TestApiToken::test_to_dict_none_datetimes PASSED [  3%]
agenthub_main/src/tests/auth/models/api_token_test.py::TestApiToken::test_to_dict_empty_scopes PASSED [  3%]
agenthub_main/src/tests/auth/models/api_token_test.py::TestApiToken::test_api_token_column_constraints PASSED [  3%]
agenthub_main/src/tests/auth/models/api_token_test.py::TestApiToken::test_api_token_id_format PASSED [  3%]
agenthub_main/src/tests/auth/models/api_token_test.py::TestApiToken::test_api_token_scopes_array PASSED [  3%]
agenthub_main/src/tests/auth/models/api_token_test.py::TestApiToken::test_api_token_rate_limit_tracking PASSED [  4%]
agenthub_main/src/tests/auth/models/api_token_test.py::TestApiToken::test_api_token_active_status PASSED [  4%]
agenthub_main/src/tests/auth/models/api_token_test.py::TestApiTokenEdgeCases::test_api_token_with_very_long_name PASSED [  4%]
agenthub_main/src/tests/auth/models/api_token_test.py::TestApiTokenEdgeCases::test_api_token_with_many_scopes PASSED [  4%]
agenthub_main/src/tests/auth/models/api_token_test.py::TestApiTokenEdgeCases::test_api_token_zero_rate_limit PASSED [  4%]
agenthub_main/src/tests/auth/models/api_token_test.py::TestApiTokenEdgeCases::test_api_token_high_usage_count PASSED [  4%]
agenthub_main/src/tests/auth/models/api_token_test.py::TestApiTokenEdgeCases::test_api_token_past_expiration PASSED [  4%]
agenthub_main/src/tests/auth/models/api_token_test.py::TestApiTokenEdgeCases::test_api_token_special_characters_in_name PASSED [  4%]
agenthub_main/src/tests/auth/models/api_token_test.py::TestApiTokenBase::test_base_class_inheritance PASSED [  4%]
agenthub_main/src/tests/auth/models/api_token_test.py::TestApiTokenBase::test_base_metadata PASSED [  4%]
agenthub_main/src/tests/auth/keycloak_dependencies_test.py::TestKeycloakJWKSClient::test_get_keycloak_jwks_client_not_configured PASSED [  4%]
agenthub_main/src/tests/auth/keycloak_dependencies_test.py::TestKeycloakJWKSClient::test_get_keycloak_jwks_client_creates_new PASSED [  4%]
agenthub_main/src/tests/auth/keycloak_dependencies_test.py::TestKeycloakJWKSClient::test_get_keycloak_jwks_client_correct_url PASSED [  4%]
agenthub_main/src/tests/auth/keycloak_dependencies_test.py::TestUniversalUserAuthentication::test_get_current_user_keycloak_token PASSED [  4%]
agenthub_main/src/tests/auth/keycloak_dependencies_test.py::TestUniversalUserAuthentication::test_get_current_user_local_token PASSED [  4%]
agenthub_main/src/tests/auth/keycloak_dependencies_test.py::TestUniversalUserAuthentication::test_get_current_user_decode_error PASSED [  4%]
agenthub_main/src/tests/auth/keycloak_dependencies_test.py::TestKeycloakTokenValidation::test_validate_keycloak_token_success PASSED [  4%]
agenthub_main/src/tests/auth/keycloak_dependencies_test.py::TestKeycloakTokenValidation::test_validate_keycloak_token_not_configured PASSED [  4%]
agenthub_main/src/tests/auth/keycloak_dependencies_test.py::TestKeycloakTokenValidation::test_validate_keycloak_token_no_jwks_client PASSED [  4%]
agenthub_main/src/tests/auth/keycloak_dependencies_test.py::TestKeycloakTokenValidation::test_validate_keycloak_token_expired PASSED [  4%]
agenthub_main/src/tests/auth/keycloak_dependencies_test.py::TestKeycloakTokenValidation::test_validate_keycloak_token_missing_sub PASSED [  4%]
agenthub_main/src/tests/auth/keycloak_dependencies_test.py::TestKeycloakTokenValidation::test_validate_keycloak_token_no_email PASSED [  4%]
agenthub_main/src/tests/auth/keycloak_dependencies_test.py::TestLocalTokenValidation::test_validate_local_token_success PASSED [  4%]
agenthub_main/src/tests/auth/keycloak_dependencies_test.py::TestLocalTokenValidation::test_validate_local_token_no_secret PASSED [  4%]
agenthub_main/src/tests/auth/keycloak_dependencies_test.py::TestLocalTokenValidation::test_validate_local_token_expired PASSED [  4%]
agenthub_main/src/tests/auth/keycloak_dependencies_test.py::TestLocalTokenValidation::test_validate_local_token_invalid PASSED [  4%]
agenthub_main/src/tests/auth/keycloak_dependencies_test.py::TestLocalTokenValidation::test_validate_local_token_missing_user_id PASSED [  4%]
agenthub_main/src/tests/auth/keycloak_dependencies_test.py::TestLocalTokenValidation::test_validate_local_token_user_id_fallback PASSED [  4%]
agenthub_main/src/tests/auth/keycloak_dependencies_test.py::TestLocalTokenValidation::test_validate_local_token_minimal PASSED [  4%]
agenthub_main/src/tests/auth/keycloak_dependencies_test.py::TestLocalTokenValidation::test_validate_local_token_expired_by_timestamp PASSED [  4%]
agenthub_main/src/tests/auth/keycloak_dependencies_test.py::TestIntegration::test_keycloak_to_local_fallback PASSED [  4%]
agenthub_main/src/tests/auth/keycloak_dependencies_test.py::TestIntegration::test_clock_skew_tolerance PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountConfig::test_config_initialization PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountConfig::test_config_default_scopes PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceToken::test_token_initialization PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceToken::test_token_expiry_calculation PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceToken::test_token_is_expired PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceToken::test_seconds_until_expiry PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_initialization_with_config PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_initialization_from_env PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_validate_config_missing_fields PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_config_url_trailing_slash PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_jwks_client_creation PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_authenticate_success PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_authenticate_cached_token PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_authenticate_force_refresh PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_authenticate_failure PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_authenticate_exception PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_get_valid_token PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_get_valid_token_none PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_validate_token_valid PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_validate_token_wrong_type PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_validate_token_wrong_client PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_validate_token_expired PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_get_service_info_success PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_get_service_info_no_token PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_get_auth_headers_with_token PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_get_auth_headers_no_token PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_get_auth_headers_expired_token PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_health_check PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_health_check_no_token PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_token_refresh_loop PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_context_manager PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_close PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestServiceAccountAuth::test_rate_limiting PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestGlobalFunctions::test_get_service_account_auth_singleton PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestGlobalFunctions::test_authenticate_service_request_valid PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestGlobalFunctions::test_authenticate_service_request_no_header PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestGlobalFunctions::test_authenticate_service_request_invalid_format PASSED [  4%]
agenthub_main/src/tests/auth/service_account_test.py::TestGlobalFunctions::test_authenticate_service_request_invalid_token PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_initialization_enabled PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_initialization_disabled PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_validate_mcp_token_auth_disabled PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_validate_mcp_token_valid PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_validate_mcp_token_invalid PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_validate_mcp_token_insufficient_roles PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_validate_mcp_token_client_specific_roles PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_validate_mcp_token_exception_handling PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_build_mcp_permissions_admin PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_build_mcp_permissions_developer PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_build_mcp_permissions_user PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_build_mcp_permissions_multiple_roles PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_get_allowed_tools_admin PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_get_allowed_tools_developer PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_get_allowed_tools_regular_user PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_get_allowed_tools_combined_roles PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_get_current_user PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_require_mcp_permission_decorator_success PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_require_mcp_permission_decorator_wildcard PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_require_mcp_permission_decorator_denied PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_require_mcp_permission_decorator_no_user PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_require_tool_access_decorator_success PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_require_tool_access_decorator_wildcard PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_require_tool_access_decorator_denied PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_create_mcp_session PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_validate_tool_request_allowed PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_validate_tool_request_admin_wildcard PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_validate_tool_request_denied PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestMCPKeycloakAuth::test_validate_tool_request_parameter_validation PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestGlobalFunctions::test_get_mcp_user_dependency PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestGlobalFunctions::test_require_mcp_auth_decorator_enabled PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestGlobalFunctions::test_require_mcp_auth_decorator_disabled PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestIntegration::test_full_authentication_flow PASSED [  5%]
agenthub_main/src/tests/auth/mcp_keycloak_auth_test.py::TestIntegration::test_decorator_integration PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestDataModels::test_login_request_model PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestDataModels::test_register_request_model_valid PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestDataModels::test_register_request_password_validation PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestDataModels::test_register_request_email_validation PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestDataModels::test_register_request_username_validation PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestDataModels::test_register_response_model PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestDataModels::test_login_response_model PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestHelperFunctions::test_get_keycloak_admin_token_client_credentials_success PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestHelperFunctions::test_get_keycloak_admin_token_fallback_to_admin PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestHelperFunctions::test_get_keycloak_admin_token_failure PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestHelperFunctions::test_cleanup_incomplete_account_success PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestHelperFunctions::test_cleanup_incomplete_account_protected PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestHelperFunctions::test_setup_user_roles_success PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestLoginEndpoint::test_login_success PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestLoginEndpoint::test_login_invalid_credentials PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestLoginEndpoint::test_login_account_not_fully_setup PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestLoginEndpoint::test_login_invalid_scope_retry PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestLoginEndpoint::test_login_connection_error PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestLoginEndpoint::test_login_supabase_not_implemented PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestLoginEndpoint::test_login_test_mode PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestRegisterEndpoint::test_register_success PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestRegisterEndpoint::test_register_email_verification_required PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestRegisterEndpoint::test_register_invalid_password PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestRegisterEndpoint::test_register_invalid_email PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestRegisterEndpoint::test_register_user_already_exists PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestRegisterEndpoint::test_register_with_cleanup_and_retry PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestRegisterEndpoint::test_register_supabase_not_implemented PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestRegisterEndpoint::test_register_test_mode PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestRefreshTokenEndpoint::test_refresh_token_success PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestRefreshTokenEndpoint::test_refresh_token_invalid PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestRefreshTokenEndpoint::test_refresh_token_connection_error PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestRefreshTokenEndpoint::test_refresh_token_test_mode PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestLogoutEndpoint::test_logout_success PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestLogoutEndpoint::test_logout_connection_error PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestLogoutEndpoint::test_logout_without_token PASSED [  5%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestUtilityEndpoints::test_get_provider PASSED [  6%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestUtilityEndpoints::test_verify_auth PASSED [  6%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestUtilityEndpoints::test_get_password_requirements PASSED [  6%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestUtilityEndpoints::test_validate_password_strong PASSED [  6%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestUtilityEndpoints::test_validate_password_weak PASSED [  6%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestUtilityEndpoints::test_registration_success_handler PASSED [  6%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestEdgeCasesAndErrorHandling::test_register_empty_username PASSED [  6%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestEdgeCasesAndErrorHandling::test_register_keycloak_bad_request PASSED [  6%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestEdgeCasesAndErrorHandling::test_login_keycloak_generic_error PASSED [  6%]
agenthub_main/src/tests/auth/interface/auth_endpoints_test.py::TestEdgeCasesAndErrorHandling::test_validate_password_with_all_requirements PASSED [  6%]
agenthub_main/src/tests/auth/mcp_dependencies_test.py::TestGetCurrentMCPUser::test_get_current_mcp_user_success PASSED [  6%]
agenthub_main/src/tests/auth/mcp_dependencies_test.py::TestGetCurrentMCPUser::test_get_current_mcp_user_no_jwt_secret PASSED [  6%]
agenthub_main/src/tests/auth/mcp_dependencies_test.py::TestGetCurrentMCPUser::test_get_current_mcp_user_invalid_token PASSED [  6%]
agenthub_main/src/tests/auth/mcp_dependencies_test.py::TestGetCurrentMCPUser::test_get_current_mcp_user_expired_token PASSED [  6%]
agenthub_main/src/tests/auth/mcp_dependencies_test.py::TestGetCurrentMCPUser::test_get_current_mcp_user_missing_user_id PASSED [  6%]
agenthub_main/src/tests/auth/mcp_dependencies_test.py::TestGetCurrentMCPUser::test_get_current_mcp_user_user_id_fallback PASSED [  6%]
agenthub_main/src/tests/auth/mcp_dependencies_test.py::TestGetCurrentMCPUser::test_get_current_mcp_user_minimal_payload PASSED [  6%]
agenthub_main/src/tests/auth/mcp_dependencies_test.py::TestGetCurrentMCPUser::test_get_current_mcp_user_with_auth_provider PASSED [  6%]
agenthub_main/src/tests/auth/mcp_dependencies_test.py::TestGetCurrentMCPUser::test_get_current_mcp_user_expired_by_timestamp PASSED [  6%]
agenthub_main/src/tests/auth/mcp_dependencies_test.py::TestGetCurrentMCPUser::test_get_current_mcp_user_exception_handling PASSED [  6%]
agenthub_main/src/tests/auth/mcp_dependencies_test.py::TestGetCurrentMCPUser::test_get_current_mcp_user_http_exception_passthrough PASSED [  6%]
agenthub_main/src/tests/auth/mcp_dependencies_test.py::TestGetOptionalMCPUser::test_get_optional_mcp_user_with_valid_credentials PASSED [  6%]
agenthub_main/src/tests/auth/mcp_dependencies_test.py::TestGetOptionalMCPUser::test_get_optional_mcp_user_no_credentials PASSED [  6%]
agenthub_main/src/tests/auth/mcp_dependencies_test.py::TestGetOptionalMCPUser::test_get_optional_mcp_user_invalid_credentials PASSED [  6%]
agenthub_main/src/tests/auth/mcp_dependencies_test.py::TestGetOptionalMCPUser::test_get_optional_mcp_user_expired_token PASSED [  6%]
agenthub_main/src/tests/auth/mcp_dependencies_test.py::TestGetOptionalMCPUser::test_get_optional_mcp_user_exception_handling PASSED [  6%]
agenthub_main/src/tests/auth/mcp_dependencies_test.py::TestIntegration::test_full_authentication_flow PASSED [  6%]
agenthub_main/src/tests/auth/mcp_dependencies_test.py::TestIntegration::test_authentication_with_different_algorithms PASSED [  6%]
agenthub_main/src/tests/auth/mcp_dependencies_test.py::TestConstants::test_frontend_jwt_algorithm PASSED [  6%]
agenthub_main/src/tests/auth/mcp_dependencies_test.py::TestConstants::test_frontend_jwt_secret_from_env PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailToken::test_email_token_creation PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenModel::test_model_table_name PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenModel::test_model_columns PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_repository_initialization_default_url PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_repository_initialization_custom_url PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_save_token_success PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_save_token_failure PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_get_token_exists PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_get_token_not_exists PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_get_token_database_error PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_get_tokens_by_email PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_get_tokens_by_email_include_used PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_mark_token_used_success PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_mark_token_used_custom_time PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_mark_token_used_failure PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_delete_token_success PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_delete_token_not_exists PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_delete_token_failure PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_cleanup_expired_tokens PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_cleanup_expired_tokens_failure PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_validate_token_success PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_validate_token_not_found PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_validate_token_already_used PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_validate_token_expired PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_validate_token_no_mark_used PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_validate_token_database_error PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_get_token_stats PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_get_token_stats_empty_db PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_get_token_stats_database_error PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_model_to_token_conversion PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_model_to_token_invalid_json PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_token_to_model_conversion PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEmailTokenRepository::test_token_to_model_invalid_metadata PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestGlobalRepository::test_get_email_token_repository_singleton PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestGlobalRepository::test_get_email_token_repository_type PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEdgeCases::test_timezone_handling_naive_datetime PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEdgeCases::test_empty_email_handling PASSED [  6%]
agenthub_main/src/tests/auth/infrastructure/repositories/email_token_repository_test.py::TestEdgeCases::test_large_metadata_handling PASSED [  6%]
agenthub_main/src/tests/connection_management/test_secure_health_check.py::TestSecureHealthCheck::test_environment_info_doesnt_expose_paths PASSED [  6%]
agenthub_main/src/tests/connection_management/test_secure_health_check.py::TestSecureHealthCheck::test_validate_configuration_doesnt_expose_errors PASSED [  7%]
agenthub_main/src/tests/connection_management/test_secure_health_check.py::TestSecureHealthCheck::test_controller_sanitizes_response PASSED [  7%]
agenthub_main/src/tests/connection_management/test_secure_health_check.py::TestSecureHealthCheck::test_error_handling_doesnt_expose_details PASSED [  7%]
agenthub_main/src/tests/connection_management/interface/controllers/connection_mcp_controller_test.py::TestConnectionMCPController::test_controller_initialization PASSED [  7%]
agenthub_main/src/tests/connection_management/interface/controllers/connection_mcp_controller_test.py::TestConnectionMCPController::test_health_check_success PASSED [  7%]
agenthub_main/src/tests/connection_management/interface/controllers/connection_mcp_controller_test.py::TestConnectionMCPController::test_health_check_without_details PASSED [  7%]
agenthub_main/src/tests/connection_management/interface/controllers/connection_mcp_controller_test.py::TestConnectionMCPController::test_health_check_with_user_id PASSED [  7%]
agenthub_main/src/tests/connection_management/interface/controllers/connection_mcp_controller_test.py::TestConnectionMCPController::test_health_check_exception_handling PASSED [  7%]
agenthub_main/src/tests/connection_management/interface/controllers/connection_mcp_controller_test.py::TestConnectionMCPController::test_response_formatting_success PASSED [  7%]
agenthub_main/src/tests/connection_management/interface/controllers/connection_mcp_controller_test.py::TestConnectionMCPController::test_response_formatting_error PASSED [  7%]
agenthub_main/src/tests/connection_management/interface/controllers/connection_mcp_controller_test.py::TestConnectionMCPController::test_initialization_logging PASSED [  7%]
agenthub_main/src/tests/connection_management/interface/controllers/connection_mcp_controller_test.py::TestConnectionMCPController::test_error_logging PASSED [  7%]
agenthub_main/src/tests/connection_management/interface/controllers/connection_mcp_controller_test.py::TestConnectionMCPController::test_register_tools_method_exists PASSED [  7%]
agenthub_main/src/tests/connection_management/interface/controllers/connection_mcp_controller_test.py::TestConnectionMCPController::test_health_check_method_exists PASSED [  7%]
agenthub_main/src/tests/connection_management/interface/controllers/connection_mcp_controller_test.py::TestConnectionMCPController::test_no_deprecated_methods PASSED [  7%]
agenthub_main/src/tests/connection_management/interface/controllers/connection_mcp_controller_test.py::TestConnectionMCPController::test_only_health_check_functionality PASSED [  7%]
agenthub_main/src/tests/test_agent_role_display.py::test_agent_role_mapping PASSED [  7%]
agenthub_main/src/tests/test_agent_role_display.py::test_status_line_integration PASSED [  7%]
agenthub_main/src/tests/test_unified_context_data.py::test_unified_context_data PASSED [  7%]
agenthub_main/src/tests/test_sqlite_mode.py::test_sqlite_configuration PASSED [  7%]
agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py::TestFileLogger::test_file_logger_initialization PASSED [  7%]
agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py::TestFileLogger::test_file_logger_logging PASSED [  7%]
agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py::TestFileLogger::test_file_logger_rotation PASSED [  7%]
agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py::TestValidatorComponents::test_root_file_validator_allowed_files PASSED [  7%]
agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py::TestValidatorComponents::test_env_file_validator PASSED [  7%]
agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py::TestValidatorComponents::test_command_validator_dangerous_commands PASSED [  7%]
agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py::TestValidatorComponents::test_documentation_validator PASSED [  7%]
agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py::TestValidatorComponents::test_permission_validator PASSED [  7%]
agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py::TestProcessorComponents::test_context_processor PASSED [  7%]
agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py::TestProcessorComponents::test_hint_processor PASSED [  7%]
agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py::TestProcessorComponents::test_mcp_processor PASSED [  7%]
agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py::TestComponentFactory::test_create_logger PASSED [  7%]
agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py::TestComponentFactory::test_create_validators PASSED [  7%]
agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py::TestComponentFactory::test_create_processors PASSED [  7%]
agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py::TestPreToolUseHookIntegration::test_hook_initialization PASSED [  7%]
agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py::TestPreToolUseHookIntegration::test_hook_execution_success PASSED [  7%]
agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py::TestPreToolUseHookIntegration::test_hook_execution_validation_failure PASSED [  7%]
agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py::TestPostToolUseHook::test_post_hook_initialization PASSED [  7%]
agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py::TestPostToolUseHook::test_documentation_updater PASSED [  7%]
agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py::TestPostToolUseHook::test_hint_generator PASSED [  7%]
agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py::TestHookSystemPerformance::test_hook_performance_under_load PASSED [  7%]
agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py::TestHookSystemPerformance::test_hook_memory_usage PASSED [  7%]
agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py::TestHookSystemErrorHandling::test_hook_handles_validator_exceptions PASSED [  7%]
agenthub_main/src/tests/hooks/test_hook_system_comprehensive.py::TestHookSystemErrorHandling::test_hook_handles_processor_exceptions PASSED [  7%]
agenthub_main/src/tests/hooks/test_context_utilities_simple.py::TestContextSynchronizerLogic::test_add_context_change PASSED [  7%]
agenthub_main/src/tests/hooks/test_context_utilities_simple.py::TestContextSynchronizerLogic::test_pending_changes_limit PASSED [  7%]
agenthub_main/src/tests/hooks/test_context_utilities_simple.py::TestContextSynchronizerLogic::test_sync_success PASSED [  7%]
agenthub_main/src/tests/hooks/test_context_utilities_simple.py::TestContextSynchronizerLogic::test_conflict_detection PASSED [  7%]
agenthub_main/src/tests/hooks/test_context_utilities_simple.py::TestContextSynchronizerLogic::test_no_conflicts_different_contexts PASSED [  7%]
agenthub_main/src/tests/hooks/test_context_utilities_simple.py::TestConflictResolutionLogic::test_latest_wins_strategy PASSED [  7%]
agenthub_main/src/tests/hooks/test_context_utilities_simple.py::TestConflictResolutionLogic::test_priority_based_strategy PASSED [  7%]
agenthub_main/src/tests/hooks/test_context_utilities_simple.py::TestConflictResolutionLogic::test_merge_compatible_strategy PASSED [  7%]
agenthub_main/src/tests/hooks/test_context_utilities_simple.py::TestConflictResolutionLogic::test_merge_fallback_on_conflicts PASSED [  7%]
agenthub_main/src/tests/hooks/test_context_utilities_simple.py::TestAgentStateManagerIntegration::test_agent_state_persistence PASSED [  7%]
agenthub_main/src/tests/hooks/test_context_utilities_simple.py::TestAgentStateManagerIntegration::test_agent_role_mapping PASSED [  7%]
agenthub_main/src/tests/hooks/test_context_utilities_simple.py::TestAgentStateManagerIntegration::test_multiple_sessions PASSED [  7%]
agenthub_main/src/tests/hooks/test_context_utilities_simple.py::TestContextInjectionLogic::test_mcp_operation_relevance PASSED [  7%]
agenthub_main/src/tests/hooks/test_context_utilities_simple.py::TestContextInjectionLogic::test_file_operation_relevance PASSED [  7%]
agenthub_main/src/tests/hooks/test_context_utilities_simple.py::TestContextInjectionLogic::test_irrelevant_operation PASSED [  7%]
agenthub_main/src/tests/hooks/test_context_utilities_simple.py::TestContextInjectionLogic::test_git_operation_relevance PASSED [  7%]
agenthub_main/src/tests/hooks/test_context_utilities_simple.py::TestIntegrationScenarios::test_context_sync_before_injection PASSED [  7%]
agenthub_main/src/tests/hooks/test_context_utilities_simple.py::TestIntegrationScenarios::test_concurrent_operations PASSED [  7%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestAgentStateManager::test_initialization PASSED [  7%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestAgentStateManager::test_get_current_agent_default PASSED [  7%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestAgentStateManager::test_set_and_get_current_agent PASSED [  7%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestAgentStateManager::test_set_agent_with_at_prefix PASSED [  7%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestAgentStateManager::test_multiple_sessions PASSED [  7%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestAgentStateManager::test_persistent_storage PASSED [  7%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestAgentStateManager::test_state_file_corruption_handling PASSED [  7%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestAgentStateManager::test_state_file_missing PASSED [  7%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestAgentStateManager::test_get_all_sessions PASSED [  8%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestAgentStateManager::test_cleanup_old_sessions PASSED [  8%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestAgentStateManager::test_timestamp_tracking PASSED [  8%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestAgentStateManager::test_save_state_error_handling PASSED [  8%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestConvenienceFunctions::test_get_current_agent_function PASSED [  8%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestConvenienceFunctions::test_set_current_agent_function PASSED [  8%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestAgentRoleMapping::test_get_agent_role_known_agents PASSED [  8%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestAgentRoleMapping::test_get_agent_role_unknown_agent PASSED [  8%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestAgentRoleMapping::test_get_agent_role_claude_agent PASSED [  8%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestAgentRoleMapping::test_get_agent_role_empty_session PASSED [  8%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestCallAgentIntegration::test_update_agent_state_from_call_agent PASSED [  8%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestCallAgentIntegration::test_update_agent_state_with_at_prefix PASSED [  8%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestCallAgentIntegration::test_update_agent_state_empty_input PASSED [  8%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestCallAgentIntegration::test_update_agent_state_empty_session PASSED [  8%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestStateFileFormats::test_load_valid_state_file PASSED [  8%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestStateFileFormats::test_load_empty_state_file PASSED [  8%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestStateFileFormats::test_load_malformed_json PASSED [  8%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestStateFileFormats::test_state_file_permissions_error PASSED [  8%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestConcurrencyAndThreadSafety::test_concurrent_state_updates PASSED [  8%]
agenthub_main/src/tests/hooks/test_agent_state_manager.py::TestConcurrencyAndThreadSafety::test_concurrent_same_session_updates PASSED [  8%]
agenthub_main/src/tests/hooks/test_hook_integration_simple.py::TestHookSystemIntegration::test_pre_hook_validation_chain PASSED [  8%]
agenthub_main/src/tests/hooks/test_hook_integration_simple.py::TestHookSystemIntegration::test_post_hook_component_chain PASSED [  8%]
agenthub_main/src/tests/hooks/test_hook_integration_simple.py::TestHookSystemIntegration::test_file_logger_integration PASSED [  8%]
agenthub_main/src/tests/hooks/test_hook_integration_simple.py::TestHookSystemIntegration::test_component_factory_integration PASSED [  8%]
agenthub_main/src/tests/hooks/test_hook_integration_simple.py::TestHookSystemIntegration::test_hook_resilience_to_component_failures PASSED [  8%]
agenthub_main/src/tests/hooks/test_hook_integration_simple.py::TestHookSystemIntegration::test_hook_performance_baseline PASSED [  8%]
agenthub_main/src/tests/hooks/test_hook_integration_simple.py::TestHookSystemIntegration::test_hook_memory_stability PASSED [  8%]
agenthub_main/src/tests/hooks/test_hook_integration_simple.py::TestHookSystemIntegration::test_json_processing_robustness PASSED [  8%]
agenthub_main/src/tests/hooks/test_hook_integration_simple.py::TestHookSystemIntegration::test_error_message_quality PASSED [  8%]
agenthub_main/src/tests/hooks/test_hook_integration_simple.py::TestHookSystemIntegration::test_logging_format_consistency PASSED [  8%]
agenthub_main/src/tests/hooks/test_hook_e2e.py::TestHookE2E::test_complete_read_tool_workflow PASSED [  8%]
agenthub_main/src/tests/hooks/test_hook_e2e.py::TestHookE2E::test_dangerous_bash_command_blocking PASSED [  8%]
agenthub_main/src/tests/hooks/test_hook_e2e.py::TestHookE2E::test_env_file_protection_workflow PASSED [  8%]
agenthub_main/src/tests/hooks/test_hook_e2e.py::TestHookE2E::test_ai_docs_update_workflow PASSED [  8%]
agenthub_main/src/tests/hooks/test_hook_e2e.py::TestHookE2E::test_mcp_task_management_workflow PASSED [  8%]
agenthub_main/src/tests/hooks/test_hook_e2e.py::TestHookE2E::test_hook_chain_with_logging PASSED [  8%]
agenthub_main/src/tests/hooks/test_hook_e2e.py::TestHookE2E::test_hook_performance_e2e PASSED [  8%]
agenthub_main/src/tests/hooks/test_hook_e2e.py::TestHookE2E::test_hook_error_recovery_e2e PASSED [  8%]
agenthub_main/src/tests/hooks/test_hook_e2e.py::TestHookIntegrationWithSystem::test_real_file_operations PASSED [  8%]
agenthub_main/src/tests/hooks/test_hook_e2e.py::TestHookIntegrationWithSystem::test_hook_system_with_project_structure PASSED [  8%]
agenthub_main/src/tests/hooks/test_session_tracker.py::TestSessionTracker::test_get_session_file PASSED [  8%]
agenthub_main/src/tests/hooks/test_session_tracker.py::TestSessionTracker::test_get_current_session_new PASSED [  8%]
agenthub_main/src/tests/hooks/test_session_tracker.py::TestSessionTracker::test_get_current_session_existing_valid PASSED [  8%]
agenthub_main/src/tests/hooks/test_session_tracker.py::TestSessionTracker::test_get_current_session_expired PASSED [  8%]
agenthub_main/src/tests/hooks/test_session_tracker.py::TestSessionTracker::test_get_current_session_corrupted_file PASSED [  8%]
agenthub_main/src/tests/hooks/test_session_tracker.py::TestSessionTracker::test_save_session PASSED [  8%]
agenthub_main/src/tests/hooks/test_session_tracker.py::TestSessionTracker::test_add_modified_file PASSED [  8%]
agenthub_main/src/tests/hooks/test_session_tracker.py::TestSessionTracker::test_add_modified_file_duplicate PASSED [  8%]
agenthub_main/src/tests/hooks/test_session_tracker.py::TestSessionTracker::test_add_modified_folder PASSED [  8%]
agenthub_main/src/tests/hooks/test_session_tracker.py::TestSessionTracker::test_is_file_in_session_true PASSED [  8%]
agenthub_main/src/tests/hooks/test_session_tracker.py::TestSessionTracker::test_is_file_in_session_false PASSED [  8%]
agenthub_main/src/tests/hooks/test_session_tracker.py::TestSessionTracker::test_is_folder_in_session_true PASSED [  8%]
agenthub_main/src/tests/hooks/test_session_tracker.py::TestSessionTracker::test_is_folder_in_session_false PASSED [  8%]
agenthub_main/src/tests/hooks/test_session_tracker.py::TestSessionTracker::test_clear_expired_sessions_expired PASSED [  8%]
agenthub_main/src/tests/hooks/test_session_tracker.py::TestSessionTracker::test_clear_expired_sessions_valid PASSED [  8%]
agenthub_main/src/tests/hooks/test_session_tracker.py::TestSessionTracker::test_clear_expired_sessions_no_file PASSED [  8%]
agenthub_main/src/tests/hooks/test_session_tracker.py::TestSessionTracker::test_clear_expired_sessions_corrupted_file PASSED [  8%]
agenthub_main/src/tests/hooks/test_session_tracker.py::TestSessionTracker::test_session_timeout_boundary PASSED [  8%]
agenthub_main/src/tests/hooks/test_session_tracker.py::TestSessionTracker::test_session_workflow_integration PASSED [  8%]
agenthub_main/src/tests/hooks/test_session_tracker.py::TestSessionTrackerEdgeCases::test_permission_denied_handling PASSED [  8%]
agenthub_main/src/tests/hooks/test_session_tracker.py::TestSessionTrackerEdgeCases::test_concurrent_access_simulation PASSED [  8%]
agenthub_main/src/tests/hooks/test_session_tracker.py::TestSessionTrackerPerformance::test_large_session_handling PASSED [  8%]
agenthub_main/src/tests/hooks/test_hooks_basic.py::TestBasicHookFunctionality::test_hooks_can_be_imported PASSED [  8%]
agenthub_main/src/tests/hooks/test_hooks_basic.py::TestBasicHookFunctionality::test_file_logger_basic_functionality PASSED [  8%]
agenthub_main/src/tests/hooks/test_hooks_basic.py::TestBasicHookFunctionality::test_hook_main_entry_points_exist PASSED [  8%]
agenthub_main/src/tests/hooks/test_hooks_basic.py::TestBasicHookFunctionality::test_hook_json_processing PASSED [  8%]
agenthub_main/src/tests/hooks/test_hooks_basic.py::TestBasicHookFunctionality::test_pre_hook_initialization_without_errors PASSED [  8%]
agenthub_main/src/tests/hooks/test_hooks_basic.py::TestBasicHookFunctionality::test_post_hook_initialization_without_errors PASSED [  8%]
agenthub_main/src/tests/ai_task_planning/test_ai_planning_init.py::TestAITaskPlanningPackageInit::test_package_import PASSED [  8%]
agenthub_main/src/tests/ai_task_planning/test_ai_planning_init.py::TestAITaskPlanningPackageInit::test_package_structure PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/application/services/ai_planning_service_test.py::TestAITaskPlanningService::test_create_intelligent_plan_basic PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/application/services/ai_planning_service_test.py::TestAITaskPlanningService::test_plan_contains_expected_patterns PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/application/services/ai_planning_service_test.py::TestAITaskPlanningService::test_agent_assignment PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/application/services/ai_planning_service_test.py::TestAITaskPlanningService::test_subtask_generation PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/application/services/ai_planning_service_test.py::TestAITaskPlanningService::test_dependency_generation PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/application/services/ai_planning_service_test.py::TestAITaskPlanningService::test_effort_estimation PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/application/services/ai_planning_service_test.py::TestAITaskPlanningService::test_parallel_execution_groups PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/application/services/ai_planning_service_test.py::TestAITaskPlanningService::test_plan_validation PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/application/services/ai_planning_service_test.py::TestAITaskPlanningService::test_confidence_score_calculation PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/application/services/ai_planning_service_test.py::TestAITaskPlanningService::test_risk_identification PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/application/services/ai_planning_service_test.py::TestAITaskPlanningService::test_technical_considerations PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/application/services/ai_planning_service_test.py::TestAITaskPlanningService::test_empty_requirements_handling PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/application/services/ai_planning_service_test.py::TestAITaskPlanningService::test_task_type_determination PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/application/services/ai_planning_service_test.py::TestAITaskPlanningService::test_execute_plan_without_facade PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/application/services/ai_planning_service_test.py::TestAITaskPlanningService::test_execute_plan_with_facade PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/application/services/ai_planning_service_test.py::TestAITaskPlanningService::test_phase_ordering PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/application/services/ai_planning_service_test.py::TestAITaskPlanningService::test_workload_distribution PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/application/test_application_init.py::TestAITaskPlanningApplicationInit::test_application_package_import PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/application/test_application_init.py::TestAITaskPlanningApplicationInit::test_application_package_structure PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/planning_request_test.py::TestRequirementItem::test_create_requirement_item PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/planning_request_test.py::TestRequirementItem::test_requirement_item_with_full_details PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/planning_request_test.py::TestPlanningRequest::test_create_basic_planning_request PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/planning_request_test.py::TestPlanningRequest::test_add_requirement PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/planning_request_test.py::TestPlanningRequest::test_add_code_reference PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/planning_request_test.py::TestPlanningRequest::test_estimate_overall_complexity_empty PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/planning_request_test.py::TestPlanningRequest::test_estimate_overall_complexity_with_estimates PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/planning_request_test.py::TestPlanningRequest::test_estimate_overall_complexity_heuristics PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/planning_request_test.py::TestPlanningRequest::test_planning_request_with_full_context PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/planning_request_test.py::TestPlanningRequest::test_to_dict_serialization PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/planning_request_test.py::TestPlanningRequest::test_from_dict_deserialization PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/planning_request_test.py::TestPlanningRequest::test_complexity_level_enum_values PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/planning_request_test.py::TestPlanningRequest::test_planning_context_enum_values PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/task_plan_test.py::TestAgentAssignment::test_create_basic_agent_assignment PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/task_plan_test.py::TestAgentAssignment::test_agent_assignment_with_support PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/task_plan_test.py::TestAgentAssignment::test_agent_assignment_to_dict PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/task_plan_test.py::TestPlannedTask::test_create_basic_planned_task PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/task_plan_test.py::TestPlannedTask::test_planned_task_with_full_details PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/task_plan_test.py::TestPlannedTask::test_add_subtask PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/task_plan_test.py::TestPlannedTask::test_can_run_in_parallel_same_agent PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/task_plan_test.py::TestPlannedTask::test_can_run_in_parallel_file_conflict PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/task_plan_test.py::TestPlannedTask::test_can_run_in_parallel_compatible_phases PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/task_plan_test.py::TestPlannedTask::test_to_mcp_task_request PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/task_plan_test.py::TestPlannedTask::test_to_dict_serialization PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/task_plan_test.py::TestTaskPlan::test_create_basic_task_plan PASSED [  9%]
agenthub_main/src/tests/ai_task_planning/domain/entities/task_plan_test.py::TestTaskPlan::test_add_task_to_plan 